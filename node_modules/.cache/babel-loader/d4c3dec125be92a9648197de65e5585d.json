{"ast":null,"code":"import _classCallCheck from\"/Users/daloniil/Desktop/React/Pizza/pizzaProject/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/daloniil/Desktop/React/Pizza/pizzaProject/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/daloniil/Desktop/React/Pizza/pizzaProject/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/daloniil/Desktop/React/Pizza/pizzaProject/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{NavLink}from\"react-router-dom\";import s from\"./StyleBuy/Buy.module.css\";import{Component}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Buy=/*#__PURE__*/function(_Component){_inherits(Buy,_Component);var _super=_createSuper(Buy);function Buy(){var _this;_classCallCheck(this,Buy);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={item:_this.props.item,amout:1};return _this;}_createClass(Buy,[{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps,prevState){if(prevProps!=this.props){this.setState({item:this.props.item});}}},{key:\"render\",value:function render(){var _this2=this;var view;var cost=this.state.item.reduce(function(a,b){return Math.round(a+b.cost);},0);if(this.state.item.length==0){view=/*#__PURE__*/_jsxs(\"div\",{className:s.container_no_buy,children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\u0412\\u0438 \\u0449\\u0435 \\u043D\\u0435 \\u043E\\u0431\\u0440\\u0430\\u043B\\u0438 \\u0437\\u0430\\u043C\\u043E\\u0432\\u043B\\u0435\\u043D\\u043D\\u044F\"}),/*#__PURE__*/_jsx(NavLink,{to:\"/profile/pizza\",className:s.p,children:\"\\u041F\\u0435\\u0440\\u0435\\u0439\\u0442\\u0438 \\u0432 \\u043C\\u0435\\u043D\\u044E\"})]});}else{view=/*#__PURE__*/_jsxs(\"div\",{className:s.container_buy,children:[/*#__PURE__*/_jsx(\"div\",{className:s.order,children:/*#__PURE__*/_jsx(\"span\",{children:\"\\u041A\\u043E\\u0448\\u0438\\u043A\"})}),this.state.item.map(function(u){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:s.info,children:[/*#__PURE__*/_jsx(\"div\",{className:s.container_photo,children:/*#__PURE__*/_jsx(\"img\",{src:u.eat.photoURL,alt:\"\",height:\"75\",width:\"75\"})}),/*#__PURE__*/_jsxs(\"div\",{className:s.your_order,children:[/*#__PURE__*/_jsxs(\"div\",{className:s.container_name,children:[u.eat.name,\" \",u.size>0?\"-\":\"\",\" \",u.size,\" \",u.size>0?\"см\":\"\"]}),/*#__PURE__*/_jsxs(\"div\",{className:s.amount,children:[/*#__PURE__*/_jsx(\"div\",{className:s.border_minus,children:/*#__PURE__*/_jsx(\"p\",{className:s.minus,onClick:_this2.plus=function(){u.eat.amount=u.eat.amount>1?u.eat.amount-1:u.eat.amount;u.cost=u.eat.cost*u.eat.amount;_this2.forceUpdate();},children:\"-\"})}),/*#__PURE__*/_jsx(\"p\",{className:s.number_amount,children:u.eat.amount}),/*#__PURE__*/_jsx(\"p\",{className:s.plus,onClick:_this2.plus=function(){u.eat.amount=u.eat.amount+1;u.cost=u.eat.cost*u.eat.amount;_this2.forceUpdate();},children:\"+\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:s.costs,children:[/*#__PURE__*/_jsxs(\"span\",{className:s.x,children:[\" \",u.eat.amount,\" x\"]}),\" \",/*#__PURE__*/_jsxs(\"span\",{className:s.amount_cost,children:[Math.round(u.eat.cost),\" \\u0433\\u0440\\u043D\"]})]})]}),/*#__PURE__*/_jsx(\"span\",{className:s.delete,onClick:_this2.delet=function(){var searchindex=u._id;_this2.state.item[_this2.state.item.findIndex(function(el){return el._id===searchindex;})].eat.amount=1;_this2.state.item.splice(_this2.state.item.findIndex(function(el){return el._id===searchindex;}),1);_this2.props.deleteLenght(_this2.props.lenght>0?_this2.props.lenght-1:null);_this2.forceUpdate();},children:\"x\"})]})},u._id);}),/*#__PURE__*/_jsxs(\"div\",{className:s.all,children:[/*#__PURE__*/_jsxs(\"div\",{className:s.all_cost_order,children:[/*#__PURE__*/_jsx(\"span\",{className:s.text,children:\"\\u0420\\u0430\\u0437\\u043E\\u043C:\"}),\" \",/*#__PURE__*/_jsxs(\"span\",{className:s.all_cost,children:[cost,\" \\u0433\\u0440\\u043D\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:s.button_order,children:/*#__PURE__*/_jsx(NavLink,{to:\"/checkout\",className:s.your_like,children:\" \\u0417\\u0430\\u043C\\u043E\\u0432\\u0438\\u0442\\u0438\"})})]})]});}return/*#__PURE__*/_jsx(\"div\",{className:s.content,children:view});}}]);return Buy;}(Component);export default Buy;","map":{"version":3,"sources":["/Users/daloniil/Desktop/React/Pizza/pizzaProject/src/Components/Buy/Buy.jsx"],"names":["NavLink","s","Component","Buy","state","item","props","amout","prevProps","prevState","setState","view","cost","reduce","a","b","Math","round","length","container_no_buy","p","container_buy","order","map","u","info","container_photo","eat","photoURL","your_order","container_name","name","size","amount","border_minus","minus","plus","forceUpdate","number_amount","costs","x","amount_cost","delete","delet","searchindex","_id","findIndex","el","splice","deleteLenght","lenght","all","all_cost_order","text","all_cost","button_order","your_like","content"],"mappings":"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","sourcesContent":["import {NavLink} from \"react-router-dom\";\nimport s from \"./StyleBuy/Buy.module.css\";\nimport {Component} from \"react\";\n\n\nclass Buy extends Component {\n\n\n    componentDidUpdate(prevProps, prevState) {\n        if (prevProps != this.props) {\n            this.setState({\n                item: this.props.item,\n            })\n        }\n    }\n\n    state = {\n        item: this.props.item,\n        amout: 1,\n\n    }\n\n\n    plus\n    minus\n    delet\n\n    render() {\n\n\n        let view\n\n\n        let cost = this.state.item.reduce(function (a, b) {\n            return Math.round(a + b.cost);\n        }, 0);\n\n\n        if (this.state.item.length == 0) {\n            view = <div className={s.container_no_buy}>\n                <span>Ви ще не обрали замовлення</span>\n                <NavLink to={\"/profile/pizza\"} className={s.p}>Перейти в меню</NavLink>\n            </div>\n        } else {\n            view = <div className={s.container_buy}>\n                <div className={s.order}>\n                    <span>Кошик</span>\n                </div>\n                {this.state.item.map(u => <div key={u._id}>\n\n                    <div className={s.info}>\n\n                        <div className={s.container_photo}>\n                            <img src={u.eat.photoURL} alt=\"\" height=\"75\" width=\"75\"/>\n                        </div>\n\n\n                        <div className={s.your_order}>\n                            <div className={s.container_name}>\n                                {u.eat.name} {u.size > 0 ? \"-\" : \"\"} {u.size} {u.size > 0 ? \"см\" : \"\"}\n\n\n                            </div>\n\n                            <div className={s.amount}>\n                                <div className={s.border_minus}>\n                                    <p className={s.minus} onClick={this.plus = () => {\n                                        u.eat.amount = u.eat.amount > 1 ? u.eat.amount - 1 : u.eat.amount\n                                        u.cost = u.eat.cost * u.eat.amount\n                                        this.forceUpdate()\n                                    }}>-</p>\n                                </div>\n                                <p className={s.number_amount}>{u.eat.amount}</p>\n                                <p className={s.plus} onClick={this.plus = () => {\n                                    u.eat.amount = u.eat.amount + 1\n                                    u.cost = (u.eat.cost) * u.eat.amount\n                                    this.forceUpdate()\n                                }}>+</p>\n                            </div>\n\n                            <div className={s.costs}>\n                                <span className={s.x}> {u.eat.amount} x</span> <span\n                                className={s.amount_cost}>{Math.round(u.eat.cost)} грн</span>\n                            </div>\n\n                        </div>\n\n                        <span className={s.delete} onClick={this.delet = () => {\n                            let searchindex = u._id\n                            this.state.item[this.state.item.findIndex(el => el._id === searchindex)].eat.amount = 1\n                            this.state.item.splice(this.state.item.findIndex(el => el._id === searchindex), 1)\n                            this.props.deleteLenght(this.props.lenght > 0 ? this.props.lenght - 1 : null)\n                            this.forceUpdate()\n                        }\n                        }>x</span>\n\n                    </div>\n\n                </div>)}\n\n\n                <div className={s.all}>\n                    <div className={s.all_cost_order}>\n                        <span className={s.text}>Разом:</span> <span className={s.all_cost}>{cost} грн</span>\n                    </div>\n                    <div className={s.button_order}>\n                        <NavLink to={\"/checkout\"} className={s.your_like}> Замовити</NavLink>\n                    </div>\n                </div>\n\n\n            </div>\n        }\n\n\n        return (\n            <div className={s.content}>\n                {view}\n            </div>\n        )\n    }\n}\n\nexport default Buy"]},"metadata":{},"sourceType":"module"}