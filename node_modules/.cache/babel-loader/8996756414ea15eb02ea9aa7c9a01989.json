{"ast":null,"code":"var _jsxFileName = \"/Users/daloniil/Desktop/React/Pizza/pizzaProject/src/Components/Buy/Buy.jsx\";\nimport { NavLink } from \"react-router-dom\";\nimport s from \"./StyleBuy/Buy.module.css\";\nimport { Component } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Buy extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      item: this.props.item,\n      amout: 1\n    };\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevProps != this.props) {\n      this.setState({\n        item: this.props.item\n      });\n    }\n  }\n\n  render() {\n    let repeats = [],\n        item,\n        i = 0;\n\n    while (i < this.props.item.length) {\n      repeats.indexOf(item = this.props.item[i++]._id) > -1 ? this.props.item.pop(i--) : repeats.push(item);\n    }\n\n    let view;\n    let cost = this.state.item.reduce(function (a, b) {\n      return Math.round(a + b.cost);\n    }, 0);\n\n    if (repeats.length == 0) {\n      view = /*#__PURE__*/_jsxDEV(\"div\", {\n        className: s.container_no_buy,\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"\\u0412\\u0438 \\u0449\\u0435 \\u043D\\u0435 \\u043E\\u0431\\u0440\\u0430\\u043B\\u0438 \\u0437\\u0430\\u043C\\u043E\\u0432\\u043B\\u0435\\u043D\\u043D\\u044F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(NavLink, {\n          to: \"/profile/pizza\",\n          className: s.p,\n          children: \"\\u041F\\u0435\\u0440\\u0435\\u0439\\u0442\\u0438 \\u0432 \\u043C\\u0435\\u043D\\u044E\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 20\n      }, this);\n    } else {\n      view = /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [repeats.map(u => /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: s.container_photo,\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: u.eat.photoURL,\n              alt: \"\",\n              height: \"75\",\n              width: \"75\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: s.info,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: s.container_name,\n              children: u.eat.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 25\n            }, this), u.size, /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [\"\\u0426\\u0435\\u043D\\u0430 \", u.cost]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"-\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 63,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: u.eat.amount\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 64,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                onClick: this.plus = () => {\n                  this.state.item[u._id].eat.amount = this.state.item[u._id].eat.amount + 1;\n                  this.state.item[u._id].cost = this.state.item[u._id].eat.cost * this.state.item[u._id].eat.amount;\n                  this.forceUpdate();\n                },\n                children: \"+\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 65,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 21\n          }, this)]\n        }, u._id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 35\n        }, this)), \"\\u0412\\u043C\\u0435\\u0441\\u0442\\u0438\", cost]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 20\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: s.content,\n      children: view\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default Buy;","map":{"version":3,"sources":["/Users/daloniil/Desktop/React/Pizza/pizzaProject/src/Components/Buy/Buy.jsx"],"names":["NavLink","s","Component","Buy","state","item","props","amout","componentDidUpdate","prevProps","prevState","setState","render","repeats","i","length","indexOf","_id","pop","push","view","cost","reduce","a","b","Math","round","container_no_buy","p","map","u","container_photo","eat","photoURL","info","container_name","name","size","amount","plus","forceUpdate","content"],"mappings":"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","sourcesContent":["import {NavLink} from \"react-router-dom\";\nimport s from \"./StyleBuy/Buy.module.css\";\nimport {Component} from \"react\";\n\n\nclass Buy extends Component {\n\n\n\n\n    componentDidUpdate(prevProps, prevState) {\n        if (prevProps != this.props) {\n            this.setState({\n                item: this.props.item,\n            })\n        }\n    }\n\n    state = {\n        item: this.props.item,\n        amout: 1,\n\n    }\n\n    plus\n\n    render() {\n\n\n        let repeats = [], item, i = 0;\n\n        while(i < this.props.item.length){\n            repeats.indexOf(item = this.props.item[i++]._id) > -1 ? this.props.item.pop(i--) : repeats.push(item)\n        }\n\n\n        let view\n\n        let cost = this.state.item.reduce(function (a, b) {\n            return Math.round(a + b.cost);\n        }, 0);\n\n\n        if (repeats.length == 0) {\n            view = <div className={s.container_no_buy}>\n                <span>Ви ще не обрали замовлення</span>\n                <NavLink to={\"/profile/pizza\"} className={s.p}>Перейти в меню</NavLink>\n            </div>\n        } else {\n            view = <div>\n                {repeats.map(u => <div key={u._id}>\n\n                    <div className={s.container_photo}>\n                        <img src={u.eat.photoURL} alt=\"\" height=\"75\" width=\"75\"/>\n                    </div>\n                    <div className={s.info}>\n                        <div className={s.container_name}>{u.eat.name}</div>\n                        {u.size}\n                        <div>\n                            Цена {u.cost}\n                        </div>\n                        <div>\n                            <p>-</p>\n                            <p>{u.eat.amount}</p>\n                            <p onClick={this.plus = () => {\n                                this.state.item[u._id].eat.amount = this.state.item[u._id].eat.amount + 1\n                                this.state.item[u._id].cost = this.state.item[u._id].eat.cost * this.state.item[u._id].eat.amount\n                                this.forceUpdate()\n                            }}>+</p>\n                        </div>\n                    </div>\n                </div>)}\n                Вмести\n                {cost}\n\n\n            </div>\n        }\n\n\n        return (\n            <div className={s.content}>\n                {view}\n\n            </div>\n        )\n    }\n}\n\nexport default Buy"]},"metadata":{},"sourceType":"module"}