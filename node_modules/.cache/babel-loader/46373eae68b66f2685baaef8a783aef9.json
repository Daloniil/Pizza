{"ast":null,"code":"const BUYITEM = \"BUY-ITEM\";\nlet initialState = {\n  item: [],\n  lenght: null\n};\n\nconst buyItem = (state = initialState, action) => {\n  switch (action.type) {\n    case BUYITEM:\n      {\n        let n = state.item.length;\n        let buyeat = {\n          _id: n,\n          eat: action.info,\n          cost: action.cost,\n          size: action.size\n        };\n\n        function removeDuplicates(arr) {\n          const result = [];\n          const duplicatesIndices = []; // Перебираем каждый элемент в исходном массиве\n\n          arr.forEach((current, index) => {\n            if (duplicatesIndices.includes(index)) return;\n            result.push(current); // Сравниваем каждый элемент в массиве после текущего\n\n            for (let comparisonIndex = index + 1; comparisonIndex < arr.length; comparisonIndex++) {\n              const comparison = arr[comparisonIndex];\n              const currentKeys = Object.keys(current);\n              const comparisonKeys = Object.keys(comparison); // Проверяем длину массивов\n\n              if (currentKeys.length !== comparisonKeys.length) continue; // Проверяем значение ключей\n\n              const currentKeysString = currentKeys.sort().join(\"\").toLowerCase();\n              const comparisonKeysString = comparisonKeys.sort().join(\"\").toLowerCase();\n              if (currentKeysString !== comparisonKeysString) continue; // Проверяем индексы ключей\n\n              let valuesEqual = true;\n\n              for (let i = 0; i < currentKeys.length; i++) {\n                const key = currentKeys[i];\n\n                if (current[key] !== comparison[key]) {\n                  valuesEqual = false;\n                  break;\n                }\n              }\n\n              if (valuesEqual) duplicatesIndices.push(comparisonIndex);\n            } // Конец цикла\n\n          });\n          return result;\n        }\n\n        return { ...state,\n          item: [...state.item, buyeat],\n          lenght: state.item.length\n        };\n      }\n\n    default:\n      return state;\n  }\n};\n\nexport const buy = (info, cost, size) => {\n  return {\n    type: BUYITEM,\n    info,\n    cost,\n    size\n  };\n};\nexport default buyItem;","map":{"version":3,"sources":["/Users/daloniil/Desktop/React/Pizza/pizzaProject/src/Redux/buy-item-reducer.js"],"names":["BUYITEM","initialState","item","lenght","buyItem","state","action","type","n","length","buyeat","_id","eat","info","cost","size","removeDuplicates","arr","result","duplicatesIndices","forEach","current","index","includes","push","comparisonIndex","comparison","currentKeys","Object","keys","comparisonKeys","currentKeysString","sort","join","toLowerCase","comparisonKeysString","valuesEqual","i","key","buy"],"mappings":"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","sourcesContent":["const BUYITEM = \"BUY-ITEM\"\n\n\nlet initialState = {\n    item: [],\n    lenght: null\n\n};\n\n\nconst buyItem = (state = initialState, action) => {\n    switch (action.type) {\n        case BUYITEM: {\n\n\n            let n = state.item.length;\n\n            let buyeat = {\n                _id: n,\n                eat: action.info,\n                cost: action.cost,\n                size: action.size,\n            }\n            function removeDuplicates(arr) {\n\n                const result = [];\n                const duplicatesIndices = [];\n\n                // Перебираем каждый элемент в исходном массиве\n                arr.forEach((current, index) => {\n\n                    if (duplicatesIndices.includes(index)) return;\n\n                    result.push(current);\n\n                    // Сравниваем каждый элемент в массиве после текущего\n                    for (let comparisonIndex = index + 1; comparisonIndex < arr.length; comparisonIndex++) {\n\n                        const comparison = arr[comparisonIndex];\n                        const currentKeys = Object.keys(current);\n                        const comparisonKeys = Object.keys(comparison);\n\n                        // Проверяем длину массивов\n                        if (currentKeys.length !== comparisonKeys.length) continue;\n\n                        // Проверяем значение ключей\n                        const currentKeysString = currentKeys.sort().join(\"\").toLowerCase();\n                        const comparisonKeysString = comparisonKeys.sort().join(\"\").toLowerCase();\n                        if (currentKeysString !== comparisonKeysString) continue;\n\n                        // Проверяем индексы ключей\n                        let valuesEqual = true;\n                        for (let i = 0; i < currentKeys.length; i++) {\n                            const key = currentKeys[i];\n                            if ( current[key] !== comparison[key] ) {\n                                valuesEqual = false;\n                                break;\n                            }\n                        }\n                        if (valuesEqual) duplicatesIndices.push(comparisonIndex);\n\n                    } // Конец цикла\n                });\n                return result;\n            }\n\n\n\n            return {\n\n\n                ...state,\n                item: [...state.item, buyeat],\n                lenght: state.item.length\n            }\n        }\n\n\n        default:\n            return state;\n    }\n}\n\n\nexport const buy = (info, cost, size) => {\n    return {\n        type: BUYITEM,\n        info, cost, size\n    }\n}\n\n\nexport default buyItem;"]},"metadata":{},"sourceType":"module"}