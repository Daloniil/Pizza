{"ast":null,"code":"import _toConsumableArray from\"/Users/daloniil/Desktop/React/Pizza/pizzaProject/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"/Users/daloniil/Desktop/React/Pizza/pizzaProject/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";var BUYITEM=\"BUY-ITEM\";var LENGHT=\"LENGHT\";var initialState={item:[],lenght:null};var buyItem=function buyItem(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case BUYITEM:{var n=state.item.length;var buyeat={_id:n,id:action.info.id,name:action.info.name,eat:action.info,cost:action.cost,size:action.size,finalcost:action.cost};if(action.size>0){if(!state.item.some(function(buy){return buy.id===action.info.id;})){return _objectSpread(_objectSpread({},state),{},{item:[].concat(_toConsumableArray(state.item),[buyeat]),lenght:state.item.length});}else{if(!state.item.some(function(buy){return buy.size===action.size;})){return _objectSpread(_objectSpread({},state),{},{item:[].concat(_toConsumableArray(state.item),[buyeat]),lenght:state.item.length});}else{var searchId=action.info.id;var indexId=state.item.findIndex(function(el){return el.id===searchId;});return _objectSpread(_objectSpread(_objectSpread({},state),state.item[indexId].eat.amount+=1),state.item[indexId].cost=state.item[indexId].finalcost*state.item[indexId].eat.amount);}}}else if(!state.item.some(function(buy){return buy.id===action.info.id;})){return _objectSpread(_objectSpread({},state),{},{item:[].concat(_toConsumableArray(state.item),[buyeat]),lenght:state.item.length});}else{var Id=action.info.id;var index=state.item.findIndex(function(el){return el.id===Id;});return _objectSpread(_objectSpread(_objectSpread({},state),state.item[index].eat.amount+=1),state.item[index].cost=state.item[index].finalcost*state.item[index].eat.amount);}}case LENGHT:{return _objectSpread(_objectSpread({},state),{},{lenght:action.lenght});}default:return state;}};export var buy=function buy(info,cost,size){return{type:BUYITEM,info:info,cost:cost,size:size};};export var deleteLenght=function deleteLenght(lenght){return{type:LENGHT,lenght:lenght};};export default buyItem;","map":{"version":3,"sources":["/Users/daloniil/Desktop/React/Pizza/pizzaProject/src/Redux/buy-item-reducer.js"],"names":["BUYITEM","LENGHT","initialState","item","lenght","buyItem","state","action","type","n","length","buyeat","_id","id","info","name","eat","cost","size","finalcost","some","buy","searchId","indexId","findIndex","el","amount","Id","index","deleteLenght"],"mappings":"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","sourcesContent":["const BUYITEM = \"BUY-ITEM\"\nconst LENGHT = \"LENGHT\"\n\n\nlet initialState = {\n    item: [],\n    lenght: null\n\n};\n\n\nconst buyItem = (state = initialState, action) => {\n    switch (action.type) {\n        case BUYITEM: {\n\n\n            let n = state.item.length;\n            let buyeat = {\n                _id: n,\n                id: action.info.id,\n                name: action.info.name,\n                eat: action.info,\n                cost: action.cost,\n                size: action.size,\n                finalcost: action.cost,\n            }\n\n\n            if (action.size > 0) {\n                if (!state.item.some((buy) => buy.id === action.info.id)) {\n                    return {\n                        ...state,\n                        item: [...state.item, buyeat],\n                        lenght: state.item.length\n\n                    }\n                } else {\n                    if (!state.item.some((buy) => buy.size === action.size)) {\n                        return {\n                            ...state,\n                            item: [...state.item, buyeat],\n                            lenght: state.item.length\n\n                        }\n                    } else {\n                        let searchId = action.info.id\n                        let indexId = state.item.findIndex(el => el.id === searchId)\n\n                        return {\n                            ...state,\n                            ...state.item[indexId].eat.amount += 1,\n                            ...state.item[indexId].cost = state.item[indexId].finalcost * state.item[indexId].eat.amount,\n                        }\n                    }\n\n                }\n\n            } else if (!state.item.some((buy) => buy.id === action.info.id)) {\n                return {\n                    ...state,\n                    item: [...state.item, buyeat],\n                    lenght: state.item.length\n\n                }\n            } else {\n                let Id = action.info.id\n                let index = state.item.findIndex(el => el.id === Id)\n                return {\n                    ...state,\n                    ...state.item[index].eat.amount += 1,\n                    ...state.item[index].cost = state.item[index].finalcost * state.item[index].eat.amount,\n                }\n            }\n        }\n\n\n        case\n        LENGHT: {\n            return {\n                ...state,\n                lenght: action.lenght\n            }\n        }\n\n\n        default:\n            return state;\n    }\n}\n\n\nexport const buy = (info, cost, size) => {\n    return {\n        type: BUYITEM,\n        info, cost, size\n    }\n}\n\nexport const deleteLenght = (lenght) => {\n    return {\n        type: LENGHT,\n        lenght\n    }\n}\n\nexport default buyItem;"]},"metadata":{},"sourceType":"module"}